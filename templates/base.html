<!DOCTYPE html>
<html lang="en">
<head>
  <title>{% block title %}Oriiona{% endblock %}</title>
  <link rel="icon" type="image/ico" href="{{ url_for('static', filename='favicon.ico') }}">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Styles -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  {% block head_extra %}{% endblock %}
</head>
<body>
<!-- Loader -->
<div id="page-loader" role="status" aria-label="Loading page">
  <div class="spinner"></div>
</div>

<!-- Sidebar -->
<div id="sidebar" role="navigation" aria-label="Main navigation">
  <h3>ORIIONA</h3>
  <a href="/">Home</a>
  <a href="/map">Live Map</a>
  <a href="/logs">Logs</a>
  <a href="#" id="importExportBtn">Import / Export</a>
</div>

<!-- Main -->
<div id="main">
  <span id="menu-toggle">☰ Menu</span>
  {% block content %}{% endblock %}
</div>

<!-- Modal -->
<div id="importExportModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
  <div class="modal-content">
    <span class="close" id="modalClose">&times;</span>
    <h3 id="modal-title">Import / Export</h3>

    <label for="uploadCSV">Load CSV:</label>
    <input type="file" id="uploadCSV" accept=".csv" />

    <label for="uploadGPX">Load GPX:</label>
    <input type="file" id="uploadGPX" accept=".gpx" />
    <button class="btn" id="applyImport">✅ Apply</button>

    <hr>

    <label>Export:</label>
    <a href="/export/csv" target="_blank">Download CSV</a>
    <a href="/export/gpx" target="_blank">Download GPX</a>
  </div>
</div>

<!-- Toasts -->
<div id="toast-container"></div>

<!-- Scripts -->
<script src="{{ url_for('static', filename='js/main.js') }}"></script>
{% block script_extra %}{% endblock %}
</body>
</html>
